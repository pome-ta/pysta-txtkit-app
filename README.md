# pysta-txtkit-app


Practice textkit-app with Pythonista

[Pythonista](http://omz-software.com/pythonista/) ã®`objc_util` ã‚’ä½¿ã„ã€Objective-C ã®ç†è§£ã¨ã€ `TextKit` ã®ç†è§£ãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚


## Basic Data
- iPhone
	- iPhone 11
	- iOS 13.2

- Pythonista
	- ver_3.2


## GoleðŸ
### Text(Coding) Editor ã‚’ã¤ãã‚‹
  - Syntax Highlight
  - Line Numbers
  - Auto Complete

ç‰¹åˆ¥ãªç¸›ã‚Šã¯ãªã„ã‘ã©ã‚‚ã€å…¨éƒ¨iPhoneï¼ˆor iPadï¼‰ã®ã¿ã§æ¤œè¨¼äºˆå®šï¼ˆgit ã‚‚å«ã‚ã¦ï¼‰







--- ä»¥ä¸‹æ—¥è¨˜ ---

# ðŸ“ 2019/11/20

# ã¤ã¶ã‚„ã

ã¾ãšã¯ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã€æ–‡å­—æ•°ã‚„è¡Œæ•°å–å¾—ã¨ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®æŠŠæ¡ã«æŒ‘æˆ¦

`create_objc_class()` ã‚’ç†è§£ã›ã­ã°ãªã€ã€ã€


ã‚ã¨ã€class ã¨é–¢æ•°ã®ãã®ã‚‚ã®ã‚’ç†è§£ã—ã¦ãªã„ã®ã§ã¡ã‚ƒã‚“ã¨ã—ãªã„ã¨ãªã€ã€ã€



# ðŸ“ 2019/11/19

# ä¹…ã€…ã«é–‹ã„ãŸã‚‰ã€ä½•ã—ãŸã‹ã£ãŸã‹å¿˜ã‚ŒãŸ

## ã¨ã‚Šã¾ï¼Ÿ
- toolbar
	- ãƒœã‚¿ãƒ³ã¤ãã‚‹ï¼Ÿ
	- æŠ¼ã—ãŸã‚‰ã©ã†åå¿œã™ã‚‹ã‹
	- accessory ã£ã¦çµå±€
- æ–‡å­—è£…é£¾
	- è¡Œå¹…
	- è‰²
		- ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- lineNum
	- è‰²ã€…ã¿ã‚‹ï¼Ÿ



# ðŸ“ 2019/11/09

## ä½•ã‚’ã—ã¦ã„ã„ã‹ã‚ã‹ã‚‰ãªããªã£ã¦ããŸ
- view ã®è‰²ï¼ˆèµ¤ï¼‰ãŒè¦‹ãˆã‚‹ã‚ˆã†ã«
	- textview ã«é€éŽ
		- ç›´æŽ¥ã‹ã‘ã‚‹ã¨ã€æ–‡å­—ã‚‚é€æ˜Ž
		- background ã«ã‹ã‘ã‚‹
			- é’ã«è¨­å®šã—ãŸã‹ã‚‰ã€ç´«ã«ï¼
- textview èƒŒæ™¯ã§ã¯ãªãæ–‡å­—èƒŒæ™¯ã«è‰²
	- `NSMutableAttributedString` ã¨ã„ãµã‚‚ã®ã‚ã‚Šã‘ã‚Š
		- å±žæ€§ã®å½“ã¦æ–¹ãŒã€Pythonista ã«ã‚ã¦ã¯ã‚ãŒã§ããªã„ðŸ¤”


å¤‰æ•°ãŒé…·ã™ãŽã‚‹





# ðŸ“ 2019/11/08

å¯„ã‚Šé“ã‚’ã—ã¦ã¦ã€ã ã„ã¶æ™‚é–“ãŒç©ºã„ãŸ

## ã‚„ã‚Œãã†ãªé †ç•ªã§å®Ÿè£…(todo)

1. keyboard æ‹¡å¼µ
	- accessory view ã§
1. Line numbers
	- github ã§æŽ¢ã—ã¤ã¤
1. Syntax Highlight
	- github ã§æŽ¢ã—ã¤ã¤
	- å®Ÿè£…ã²ã©ãã¦ã‚‚ã€ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã§å‡¦ç†ã‹ãªï¼Ÿ
1. Auto Complete
	- æœªè¨ˆç”»
	- ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼Ÿ


## é€²æ—
[ã“ã‚Œ](https://forum.omz-software.com/topic/2288/no-way-to-end-editing/8) ã‚’å‚è€ƒã«ã¨ã‚Šã¾å®Ÿè£…

### ã‚¯ã‚½ãªã¨ã“ã‚
- ãƒœã‚¿ãƒ³ãŒãƒªãƒ³ã‚¯ã§é’ã„
	- ã‚¢ã‚¤ã‚³ãƒ³ã‹ã€æž ã‚’ã¤ã‘ãŸã„

### ä»Šå¾Œ
#### åˆ¥é€”ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¦é€£æºç¢ºèª
- bar ãƒŒãƒ«ãƒŒãƒ«ã—ãŸã‚‰ã‚­ãƒ£ãƒ¬ãƒƒãƒˆç§»å‹•
- undo/redo ãƒœã‚¿ãƒ³

#### ãƒœã‚¿ãƒ³å®Ÿè£…
- è¾žæ›¸ã‹ä½•ã‹ã§é¸æŠžã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„
	- ãƒ†ã‚­ã‚¹ãƒˆå·®ã—è¾¼ã¿ä»¥å¤–ã¯ã€é–¢æ•°å‘¼ã³å‡ºã—ï¼Ÿ
ã—ã‹ã—ã€delegate ã¨ã‹è€ƒãˆã‚‹ã¨ã‚‚ã†å°‘ã—å…ˆã‹ã‚‚ï¼Ÿ

- undo manager
- ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®å–å¾—

ã«ã¤ã„ã¦ã€èª¿ã¹ã‚‹å¿…è¦ã¯ã‚ã‚Šãã†

#### ç›´è¿‘ã‚¿ã‚¹ã‚¯
- è¦‹ãŸç›®ã‚’ãªã‚“ã¨ã‹ã™ã‚‹
- è‡ªç”±ãªå…¥ã‚Œæ›¿ãˆ

##### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
font ã®weigh ã‚„ã‚‰é«˜ã•ã‚„ã‚‰ã‚‚èª¿æ•´ã—ãŸã„





# ðŸ“ 2019/11/05

## todo

- font è¨­å®š
	- ã¨ã‚Šã¾ã€`Source Code Pro` ã§è¨­å®š
		- ç›´æŽ¥å‘¼ã‚“ã˜ã‚ƒã£ã¦ã‚‹
			- å¤ªå­—ã‚„ã‚‰ã€ã®ã‚¦ã‚§ã‚¤ãƒˆå‘¼ã³å‡ºã—ã¯ä»Šå¾Œè€ƒãˆã‚‹
- lineNumbers ã—ãŸã„
	- ã©ã“ã«è¨­ç½®ï¼Ÿ
		- ui.view ã«ï¼Ÿ
		- text.view ã«ï¼Ÿ
			- ã‚µãƒ–ã‚¯ãƒ©ã‚¹åŒ–ãŒå¿…è¦ã‹ã‚‚ã­
	- æ–‡å­—é¸æŠžã—ã¦ã‚‚ã€é¸æŠžã•ã‚Œãªã„ã‚ˆã†ã«
	- ãƒ¡ã‚¤ãƒ³ã®text.view ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¨é€£å‹•
	- è‰²ã€…ãªãƒŠãƒ¬ãƒƒã‚¸ã‚’æ¤œç´¢
		- storyboard ä½¿ã‚ãªã„æ™‚ã®å‘¼ã³å‡ºã—
			- æ›¸æ›ãˆæ–¹ã‚’èª¿ã¹ãªã„ã¨
- å®Ÿã¯stash ã£ã¦ã€swipe æ–‡å­—ç§»å‹•ã§ãã‚‹ã®ã­ã€ã€ã€
	- ã©ã“ã§ã§ãã¦ã‚‹ã®ã‹èª¿ã¹ãªã„ã¨ã€ã€ã€


ãƒ¢ãƒãƒ™çš„ã«åº—ã˜ã¾ã„ã‹ãªãðŸ¤”




# ðŸ“ 2019/11/04

## å®Ÿé¨“æ™‚ãƒ¡ãƒ¢ï¼ˆæ°—ä»˜ãï¼‰

### `v.txt.hoge()`
- `text='fuga'` -> ðŸ™†â€â™‚ï¸
- `font=()` -> ðŸ™…â€â™‚ï¸

### class
- `self` ã¤ã‘ã‚‹ã¨ã€å¤–ã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹

### Dark Keyboard
- `self.txt.setKeyboardAppearance_(sel('_dark'))`

### `ObjCInstance(self)`
- å¤‰æ•°ã§å‘¼ã³å‡ºã™ã¨ã€2å›žç›®ã«å®Ÿè¡Œã™ã‚‹ã¨è½ã¡ã‚‹
	- å¤‰æ•°ã«`.autorelease()` ã‚’ã¤ã‘ã¦ã‚‚ðŸ™…â€â™‚ï¸
	- å¤‰æ•°åŒ–ã—ãªã„ã‚ˆã†ã«ã—ã¦ã‚‹




# ðŸ“ 2019/11/03

## é€²æ—

æ™‚ç³»åˆ—ãŒãƒãƒ©ãƒãƒ©ã ã‘ã©ã‚‚ã€çŠ¶æ³ã‚’åˆ—è¨˜

- `ObjCClass('UITextView')`
	- main ã®view ã‚µã‚¤ã‚ºã§æç”»ãŒã§ããŸ
		- å‰µé€ ç¥žã®omzæ°ã®gist ã‚ˆã‚Šå‚ç…§ ->[CodeEditor Demo.py](https://gist.github.com/omz/6762c1e55e8c3a596637)
			- `flex_width, flex_height = (1<<1), (1<<4)`
			- `editor_view.setAutoresizingMask_(flex_width|flex_height)`
	- ä»®ãƒ†ã‚­ã‚¹ãƒˆæµã™
		- é’ç©ºæ–‡åº« [å·ç«¯åº·æˆã¸](https://www.aozora.gr.jp/cards/000035/files/1607_13766.html) ï¼ˆæ·±ã„æ„å‘³ã¯ãªã„ï¼‰
		- ç·¨é›†æ™‚ã«ã€keyboard ã«ãƒ†ã‚­ã‚¹ãƒˆãŒéš ã‚Œã‚‹



## Pythonista ã‚¯ãƒ©ã‚¹ã‹ã€æ—¢å­˜ã‚¯ãƒ©ã‚¹ã‹
- Syntax Highlight ã®ã“ã¨ã‚’è€ƒãˆã‚‹ã¨
	- å®Ÿè£…ãŒæ¥½ãªã®ã¯Pythonista
		- æ±Žç”¨æ€§ãŒãªã„
		- å†…éƒ¨ã‚’çŸ¥ã‚‹ã®ã§æ™‚é–“ãŒã‹ã‹ã‚‹
	- objc ã‚¯ãƒ©ã‚¹ã‹ã‚‰
		- å®Ÿè£…ãŒå¤§å¤‰ãã†
		- åŸºæœ¬çš„ãªæ­£è§£ã‚ˆã‚Šã€æƒ…å ±ã‚’é›†ã‚ãŸå†…å®¹ã«ã‚ˆã‚‹
		- objc-util ã‚„ã¨å¤§å¤‰(é¢å€’)ã‚„ãªã„ï¼Ÿ
	- ui ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰
		- ç”»é¢èª¿æ•´ã¨ã‹æ¥½ãã†
		- ã©ã‚“ãªtextview ã‹ã€ä¸­èº«ãŒè¬Ž

## é€²ã‚æ–¹æƒ³å®š(ãƒ©ãƒ³ãƒ€ãƒ )

- objc ã‹ã‚‰textview ã‚’ã€å‘¼ã³å‡ºã™
	- ãƒ•ãƒ«ç”»é¢ã§æç”»
- ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®å–å¾—
	- ä»Šå¾Œç§»å‹•ã§ãã‚‹ã‚ˆã†ã«
		- Pythonista ã®ui.textview ã¯ã‚¬ãƒã‚¬ãƒ
- objc ã®è¨€èªžç†è§£
	- github ã®Framework ã‚„ã‚µã‚¤ãƒˆä¸Šã®tips ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒˆ
- UIKit ã®æŠŠæ¡
	- apple ã®wwdc ã®å‹•ç”»è¦³ã¾ãã‚‹ï¼Ÿ
- undo redo ã®å®Ÿè£…
- é©å½“ãªè¨€è‘‰ã«ã€ highlight ã•ã™
- LineNumber ã¤ã‘ã‚‹

## ãƒ¢ãƒ¤ã‚Š

- å¤šåˆ†GitHub ã®ä½¿ã„æ–¹ã¡ã‚ƒã‚“ã¨ç†è§£ã—ã¦ãªã„ðŸ¤—
- Markdown ã®æ›¸ãæ–¹ãŒé…·ã„ðŸ˜‚
	- å¤šåˆ†ä½¿ã„æ–¹ã‚ã£ã¦ãªã„ï¼ˆè¨€èªžã¨ã—ã¦ã®æ´»ç”¨ãƒ•ã‚©ãƒ¼ãƒ ã˜ã‚ƒãªã„ï¼‰

- ï¼ˆã“ã®ï¼‰ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ã‚’[iVim](https://github.com/terrychou/iVim) ï¼ˆ[App Store](https://apps.apple.com/jp/app/ivim/id1266544660)ï¼‰ã§ã—ãŸã²ã€‚ã€‚ã€‚
	- iOS13 ã«ãªã£ã¦ã‹ã‚‰ã€ãƒ•ã‚©ãƒ«ãƒ€app ã®æ‰±ã„æ–¹ãŒå¤‰ã‚ã£ãŸã¿ãŸã„ã§é€£æºé¢å€’ã€ã€ã€ã€

- Play js ã‚‚æ°—ã«ãªã‚‹ãŠå¹´é ƒãªã®ã§ã€ã“ã®è¾ºã§ðŸ˜œ


# ðŸ“ 2019/11/02

## 1st commit

## ui.View
- Pythonista ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®`ui.View` ã‚’ä½¿ç”¨
	- èƒŒæ™¯ã‚’èµ¤
	- ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–
		- `ObjCInstance( )`


## debug


ui ã®çŠ¶æ³ã‚’çŸ¥ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã§`(p)print` åãå‡ºã—

- Python ã®é–¢æ•°
	- `dir( )`
	- `vars( )`
- objc ã‚ˆã‚Š
	- `._ivarDescription( )`
	- `._shortMethodDescription( )`
	- `._methodDescription( )`
	- `.recursiveDescription( )`
	- `._autolayoutTrace( )`

4000è¡Œã¨5000è¡Œã¨ã€çŠ¶æ³ã«ã‚ˆã‚ŠçµæžœãŒé•ã†ðŸ¤”å†ç¾æ€§ãŒé›£ã—ãdiff ã‚‚é¢å€’ãªã®ã§ã€5000ã§ç€åœ°

- `chk=ObjCInstance(self)`
- `chk=ObjCInstance(self._objc_ptr)`

ãŸã¶ã‚“ï¼ˆãŸã¶ã‚“ï¼‰çµæžœã¯ã€åŒã˜ðŸ¤—


## git ã¨GitHub ã®é€£æº

ã©ã†ã‚‚è¦é ˜ãŒæŽ´ã‚ãªã„ã€ã€ã€ã¾ãè‡ªåˆ†ã ã‘ã‚„ã‹ã‚‰ãˆãˆã‚„ã‚ðŸ˜‚



ã§ã‚‚ã€æ—¥æ¯Žã«ãƒ•ã‚©ãƒ«ãƒ€ä½œã‚‹ã¨å®Œå…¨ã«æ„å‘³ãªã„ã‚ˆã­ï¼ŸðŸ¤”branch åˆ‡ã‚‹ã®é¢å€’ðŸ˜‚ðŸ˜‚ðŸ˜‚
